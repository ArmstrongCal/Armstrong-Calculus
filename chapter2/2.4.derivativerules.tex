\section{Basic derivative rules} \label{S:2.4.BasicRules}

\begin{goals}
\item What are alternate notations for the derivative?
\item How can we sometimes use the algebraic structure of a function $f(x)$ to easily compute a formula for $f'(x)$?
\item What is the derivative of a power function of the form $f(x) = x^n$?  What is the derivative of an exponential function of form $f(x) = a^x$?
\item If we know the derivative of $y = f(x)$, how is the derivative of $y = k f(x)$ computed, where $k$ is a constant?
\item If we know the derivatives of $y = f(x)$ and $y = g(x)$, how is the derivative of $y = f(x) + g(x)$ computed?
\item What do the graphs of $y = \sin(x)$ and $y = \cos(x)$ suggest as formulas for their respective derivatives?
\end{goals}

%-----------------------------------
% SUBSECTION INTRODUCTION
%-----------------------------------
\subsection*{Introduction}

So far in this chapter, we developed the concept of the derivative of a function.  We now know that the derivative $f'$ of a function $f$ measures the instantaneous rate of change of $f$ with respect to $x$ as well as the slope of the tangent line to $y=f(x)$ at any given value of $x$.  To date, we have focused primarily on interpreting the derivative graphically or, in the context of functions in a physical setting, as a meaningful rate of change.  To actually calculate the value of the derivative at a specific point, we have typically relied on the limit definition of the derivative.

In this section, we will investigate how the limit definition of the derivative
\[ f'(x) = \lim_{h \to 0} \frac{f(x+h)-f(x)}{h} \]
leads to interesting patterns and rules that enable us to quickly find a formula for $f'(x)$ based on the formula for $f(x)$ \emph{without} using the limit definition directly.  For example, we already know that if $f(x) = x$, then it follows that $f'(x) = 1$.  While we could use the limit definition of the derivative to confirm this, we know it to be true because $f(x)$ is a linear function with slope $1$ at every value of $x$.  One of our goals is to be able to take standard functions, say ones such as $g(x) = 4x^7 - \sin(x) + 3e^x$, and, based on the algebraic form of the function, be able to apply shortcuts to almost immediately determine the formula for $g'(x)$.

\input{previews/2.4.PA1} % PREVIEW ACTIVITY

%------------------------------------------
% SUBSECTION SOME KEY NOTATION
%------------------------------------------
%\subsection*{Some Key Notation}

%In addition to our usual $f'$ notation for the derivative, there are other ways to symbolically denote the derivative of a function, as well as the instruction to take the derivative.  We know that if we have a function, say  $f(x) = x^2$, that we can denote its derivative by $f'(x)$, and we write $f'(x) = 2x$.  Equivalently, if we are thinking more about the relationship between $y$ and $x$, we sometimes denote the derivative of $y$ with respect to $x$ with the symbol 
%$$\frac{dy}{dx}$$
%which we read ``dee-y dee-x.''  This notation comes from the fact that the derivative is related to the slope of a line, and slope is measured by $\frac{\triangle y}{\triangle x}$.  Note that while we read $\frac{\triangle y}{\triangle x}$ as ``change in $y$ over change in $x$,'' for the derivative symbol $\frac{dy}{dx}$, we view this is a single symbol, not a quotient of two quantities\footnote{That is, we do \emph{not} say ``dee-y over dee-x.''}.  For example, if $y = x^2$, we'll write that the derivative is $\frac{dy}{dx} = 2x.$

%Furthermore, we use a variant of $\frac{dy}{dx}$ notation to convey the instruction to take the derivative of a certain quantity with respect to a given variable.  In particular, if we write
%$$\frac{d}{dx}\left[ \Box \right]$$
%this means ``take the derivative of the quantity in $\Box$ with respect to $x$.''  To continue our example above with the squaring function, here we may write $\frac{d}{dx}[x^2] = 2x.$

%It is important to note that the independent variable can be different from $x$.  If we have $f(z) = z^2$, we then write $f'(z) = 2z$.  Similarly, if $y = t^2$, we can say $\frac{dy}{dt} = 2t$.  And changing the variable and derivative notation once more, it is also true that $\frac{d}{dq}[q^2] = 2q$.  This notation may also be applied to second derivatives:  $f''(z) =  \frac{d}{dz}\left[\frac{df}{dz}\right] = \frac{d^2 f}{dz^2}$.

%In what follows, we'll be working to widely expand our repertoire of functions for which we can quickly compute the corresponding derivative formula

%-----------------------------------------------------------------------------
% SUBSECTION CONSTANT, POWER, AND EXPONENTIAL FUNCTIONS
%-----------------------------------------------------------------------------
\subsection*{Constant, Power, and Exponential Functions}

So far, we have worked with the derivative formula for two important classes of functions:  constant functions and power functions.  For the first kind, observe that if $f(x) = c$ is a constant function, then its graph is a horizontal line with slope zero at every point.  Thus, $\frac{d}{dx}[c] = 0$.  We summarize this with the following rule.

\concept{Constant Rule \index{derivative!constant function}}{ % CONCEPT
For any real number $c$, if $f(x) = c$, then 
\[ f'(x) = 0. \]
} % end concept
Thus, if $f(x) = 7$, then $f'(x) = 0$.  Similarly, $\frac{d}{dx} [\sqrt{3}] = 0.$ 

\marginnote{The proof of the Constant Rule is found by applying the definition of the derivative, see Exercise~\ref{E:2.4-45}.}

For power functions, from your work in Preview Activity~\ref{PA:2.1}, you have conjectured that for any positive integer $n$, if $f(x) = x^n$, then $f'(x) = nx^{n-1}$.  Not only can this rule be formally proved to hold for any positive integer $n$ (see Activity~\ref{A:2.4.Act6}), but also for any nonzero real number (see Section~\ref{S:2.8.Inverse}).  

\concept{Power Rule \index{derivative!power function}}{ % CONCEPT
For any nonzero real number, if $f(x) = x^n$, then 
\[ f'(x) = nx^{n-1}. \]
} % end concept

This rule for power functions allows us to find derivatives such as the following:  if $g(z) = z^{-3}$, then $g'(z) = -3z^{-4}$.  Similarly, if $h(t) = t^{7/5}$, then $\frac{dh}{dt} = \frac{7}{5}t^{2/5}$; likewise, $\frac{d}{dq} [q^{\pi}] = \pi q^{\pi - 1}$. 

\input{activities/2.4.Act6} % ACTIVITY need to write--Use binomial theorem to prove power rule for positive integers.

As we next turn to thinking about derivatives of combinations of basic functions, it will be instructive to have one more type of basic function whose derivative formula we know.  For now, we simply state this rule without explanation or justification; we will explore why this rule is true in Activity~\ref{A:2.4.Act5}, first we will encounter graphical reasoning for why the rule is plausible in Activity~\ref{A:2.4.Act4}.

\input{activities/2.4.Act4} % ACTIVITY Active preview 2.2

\concept{Exponential Rule \index{derivative!exponential function}}{ %CONCEPT
For any positive real number $a$, if $f(x) = a^x$, then 
\[ f'(x) = a^x \ln(a). \]
} % end concept

For instance, this rule tells us that if $f(x) = 2^x$, then $f'(x) = 2^x \ln(2)$.  Similarly, for $p(t) = 10^t$, $p'(t) = 10^t \ln(10)$.  It is especially important to note that when $a = e$, where $e$ is the base of the natural logarithm function, we have that 
$$\frac{d}{dx} [e^x] = e^x \ln(e) = e^x$$
since $\ln(e) = 1$.  This is an extremely important property of the function $e^x$:  its derivative function is itself!

\input{activities/2.4.Act5} % ACTIVITY 

Finally, note carefully the distinction between power functions  and exponential functions:  in power functions, the variable is in the base, as in $x^2$, while in exponential functions, the variable is in the power, as in $2^x$.  As we can see from the rules, this makes a big difference in the form of the derivative.

The following activity will check your understanding of the derivatives of the three basic types of functions noted above.

\input{activities/2.4.Act1} % ACTIVITY

%---------------------------------------------------------------------------
% SUBSECTION CONSTANT MULTIPLES AND SUMS OF FUNCTIONS
%---------------------------------------------------------------------------
\subsection*{Constant Multiples and Sums of Functions}

Of course, most of the functions we encounter in mathematics are more complicated than being simply constant, a power of a variable, or a base raised to a variable power.  In this section and several following, we will learn how to quickly compute the derivative of a function constructed as an algebraic combination of basic functions.  For instance, we'd like to be able to understand how to take the derivative of a polynomial function such as $p(t) = 3t^5 - 7t^4 + t^2 - 9$, which is a function made up of constant multiples and sums of powers of $t$.  To that end, we develop two new rules:  the Constant Multiple Rule and the Sum Rule.

Say we have a function $y = f(x)$ whose derivative formula is known.  How is the derivative of $y = kf(x)$ related to the derivative of the original function?  Recall that when we multiply a function by a constant $k$, we vertically stretch the graph by a factor of $|k|$ (and reflect the graph across $y = 0$ if $k < 0$).  This vertical stretch affects the slope of the graph, making the slope of the function $y = kf(x)$ be $k$ times as steep as the slope of $y = f(x)$.  In terms of the derivative, this is essentially saying that when we multiply a function by a factor of $k$, we change the value of its derivative by a factor of $k$ as well.  Thus, the Constant Multiple Rule holds:

\concept{The Constant Multiple Rule \index{constant multiple rule}}{ % CONCEPT
For any real number $k$, if $f(x)$ is a differentiable function with derivative $f'(x)$, then 
\[ \frac{d}{dx}[k f(x)] = k f'(x). \]
} % end concept

\marginnote{The Constant Multiple Rule can be formally proved as a consequence of properties of limits, using the limit definition of the derivative, see Exercise~\ref{E:2.4-46}}

In words, this rule says that ``the derivative of a constant times a function is the constant times the derivative of the function.''  For example, if $g(t) = 3 \cdot 5^t$, we have $g'(t) = 3 \cdot 5^t \ln(5)$.  Similarly, $\frac{d}{dz} [5z^{-2}] = 5 (-2z^{-3})$.

Next we examine what happens when we take a sum of two functions.  If we have $y = f(x)$ and $y = g(x)$, we can compute a new function $y = (f+g)(x)$ by adding the outputs of the two functions:  $(f+g)(x) = f(x) + g(x)$.  Not only does this result in the value of the new function being the sum of the values of the two known functions, but also the slope of the new function is the sum of the slopes of the known functions.  Therefore,  we arrive at the following Sum Rule for derivatives:

\concept{ The Sum Rule\index{sum rule}}{
If $f(x)$ and $g(x)$ are differentiable functions with derivatives $f'(x)$ and $g'(x)$ respectively, then 
\[ \frac{d}{dx}[f(x) + g(x)] = f'(x) + g'(x). \]
} % end concept

\marginnote{Like the Constant Multiple Rule, the Sum Rule can be formally proved as a consequence of properties of limits, using the limit definition of the derivative, see Exercise~\ref{E:2.4-47}.}

In words, the Sum Rule tells us that ``the derivative of a sum is the sum of the derivatives.''  It also tells us that any time we take a sum of two differentiable functions, the result must also be differentiable.  Furthermore, because we can view the difference function $y = (f-g)(x) = f(x) - g(x)$ as $y = f(x) + (-1 \cdot g(x))$, the Sum Rule and Constant Multiple Rules together tell us that $\frac{d}{dx}[f(x) + (-1 \cdot g(x))] = f'(x) - g'(x)$, or that ``the derivative of a difference is the difference of the derivatives.''  Hence we can now compute derivatives of sums and differences of elementary functions.  For instance, $\frac{d}{dw} (2^w + w^2) = 2^w \ln(2) + 2w$, and if $h(q) = 3q^6 - 4q^{-3}$, then $h'(q) = 3 (6q^5) - 4(-3q^{-4}) = 18q^5 + 12q^{-4}$.

\newpage

\input{activities/2.4.Act2} % ACTIVITY

In the same way that we have shortcut rules to help us find derivatives, we introduce some language that is simpler and shorter.  Often, rather than say ``take the derivative of $f$,'' we'll instead say simply ``differentiate $f$.''  This phrasing is tied to the notion of having a derivative to begin with:  if the derivative exists at a point, we say ``$f$ is differentiable,'' which is tied to the fact that $f$ can be differentiated.

As we work more and more with the algebraic structure of functions, it is important to strive to develop a big picture view of what we are doing.  Here, we can note several general observations based on the rules we have so far.  One is that the derivative of any polynomial function will be another polynomial function, and that the degree of the derivative is one less than the degree of the original function.  For instance, if $p(t) = 7t^5 - 4t^3 + 8t$, $p$ is a degree $5$ polynomial, and its derivative, $p'(t) = 35t^4 - 12t^2 + 8$, is a degree $4$ polynomial.  Additionally, the derivative of any exponential function is another exponential function: for example, if $g(z) = 7 \cdot 2^z$, then $g'(z) = 7 \cdot 2^z \ln(2)$, which is also exponential.

Furthermore, while our current emphasis is on learning shortcut rules for finding derivatives without directly using the limit definition, we should be certain not to lose sight of the fact that all of the meaning of the derivative still holds that we developed earlier in this chapter.  That is, anytime we compute a derivative, that derivative measures the instantaneous rate of change of the original function, as well as the slope of the tangent line at any selected point on the curve.  The following activity asks you to combine the just-developed derivative rules with some key perspectives that we studied earlier.

\input{activities/2.4.Act3} % ACTIVITY

%---------------------------------------------------------------------------
% SUBSECTION THE SINE AND COSINE FUNCTIONS
%---------------------------------------------------------------------------
\subsection*{The sine and cosine functions}

The sine and cosine functions are among the most important functions in all of mathematics.  Sometimes called the \emph{circular} functions due to their genesis in the unit circle%\footnote{See Appendix * for a brief review of important trigonometry.}
, these periodic functions play a key role in modeling repeating phenomena such as the location of a point on a bicycle tire, the behavior of an oscillating mass attached to a spring, tidal elevations, and more.  Like polynomial and exponential functions, the sine and cosine functions are considered basic functions, ones that are often used in the building of more complicated functions.  As such, we would like to know formulas for $\frac{d}{dx} [\sin(x)]$ and $\frac{d}{dx} [\cos(x)]$, and the next two activities lead us to that end.

\input{activities/2.4.Act7} %ACTIVITY

\input{activities/2.4.Act8} %ACTIVITY

The results of the two preceding activities suggest that the sine and cosine functions not only have the beautiful interrelationships that are learned in a course in trigonometry -- connections such as the identities $\sin^2(x) + \cos^2(x) = 1$ and $\cos(x - \frac{\pi}{2}) = \sin(x)$ -- but that they are even further linked through calculus, as the derivative of each involves the other.  The following rules summarize the results of the activities. 

\concept{Sine and Cosine Functions \index{derivative!sine} \index{derivative!cosine}}{ For all real numbers $x$,  $$\frac{d}{dx} [\sin(x)] = \cos(x) \ \ \mbox{and} \ \ \frac{d}{dx} [\cos(x)] = -\sin(x)$$
} % end concept

\marginnote[-1cm]{These two rules may be formally proved using the limit definition of the derivative and the expansion identities for $\sin(x+h)$ and $\cos(x+h)$, see Activity-\ref{A:2.4.Act9}.}

\input{activities/2.4.Act9} %ACTIVITY

We have now added two additional functions to our library of basic functions whose derivatives we know: power functions, exponential functions, and the sine and cosine functions.  The constant multiple and sum rules still hold, of course, and all of the inherent meaning of the derivative persists, regardless of the functions that are used to constitute a given choice of $f(x)$.  The following activity puts our new knowledge of the derivatives of $\sin(x)$ and $\cos(x)$ to work.

\input{activities/2.4.Act10} %ACTIVITY

%-------------
% SUMMARY
%-------------
\begin{summary}
\item Given a differentiable function $y = f(x)$, we can express the derivative of $f$ in several different notations:  $f'(x)$, $\frac{df}{dx}$, $\frac{dy}{dx}$, and $\frac{d}{dx}[f(x)]$.
\item The limit definition of the derivative leads to patterns among certain families of functions that enable us to compute derivative formulas without resorting directly to the limit definition.  For example, if $f$ is a power function of the form $f(x) = x^n$, then $f'(x) = nx^{n-1}$ for any real number $n$ other than $0$.  This is called the Rule for Power Functions.
\item We have stated a rule for derivatives of exponential functions in the same spirit as the rule for power functions:  for any positive real number $a$, if $f(x) = a^x$, then $f'(x) = a^x \ln(a)$.
\item If we are given a constant multiple of a function whose derivative we know, or a sum of functions whose derivatives we know, the Constant Multiple and Sum Rules make it straightforward to compute the derivative of the overall function.  More formally, if $f(x)$ and $g(x)$ are differentiable with derivatives $f'(x)$ and $g'(x)$ and $a$ and $b$ are constants, then
$$\frac{d}{dx} \left[af(x) + bg(x)\right] = af'(x) + bg'(x).$$
\item If we consider the graph of an exponential function $f(x) = a^x$ (where $a > 1$), the graph of $f'(x)$ behaves similarly, appearing exponential and as a possibly scaled version of the original function $a^x$.  For $f(x) = 2^x$, careful analysis of the graph and its slopes suggests that $\frac{d}{dx}[2^x] = 2^x \ln(2)$.
\item By carefully analyzing the graphs of $y = \sin(x)$ and $y = \cos(x)$, plus using the limit definition of the derivative at select points, we found that $\frac{d}{dx} [\sin(x)] = \cos(x)$ and $\frac{d}{dx} [\cos(x)] = -\sin(x)$.
\end{summary}

\clearpage

%--------------
% EXERCISES
%--------------
\input{exercises/2-4.BasicRules(Ex)} 

\cleardoublepage